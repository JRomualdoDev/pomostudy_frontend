<z-layout class="h-screen flex flex-col">
      <z-header>
        <div class="flex items-center justify-between w-full">
          <div class="font-semibold text-lg flex items-center">
            <img src="pomostudy.svg" alt="Logo" width="32" height="32" />
            <span class="ml-2">PomoStudy</span>
          </div>
          <div class="flex items-center gap-2">
            <button z-button zType="ghost" zSize="sm">
              <i class="icon-search"></i>
            </button>
            <z-button (click)="toggleTheme()" variant="ghost" size="icon" [attr.aria-label]="getCurrentTheme() === 'dark' ? 'Switch to light mode' : 'Switch to dark mode'">
              @if (getCurrentTheme() === 'dark') {
                <svg class="theme-toggle-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="5"/>
                  <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                </svg>
              } @else {
                <svg class="theme-toggle-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                </svg>
              }
            </z-button>
            <button z-button zType="ghost" zSize="sm">
              <i class="icon-bell"></i>
            </button>
            <button z-button zType="ghost" zSize="sm" (click)="logout()" title="Logout">
              <i class="icon-log-out"></i>
            </button>
          </div>
        </div>
      </z-header>
 
      <z-layout class="flex-1 flex min-h-0">
        <z-sidebar [zWidth]="200" class="!p-0 h-full sidebar">
          <nav class="flex flex-col h-full gap-2 p-4">
            <z-sidebar-group>
              <z-sidebar-group-label>Menu</z-sidebar-group-label>
              <button
                z-button
                [zType]="selectedMenu === 'dashboard' ? 'secondary' : 'ghost'"
                class="justify-start w-full"
                (click)="selectMenu('dashboard'); navigate('/dashboard/index')"
              >
                <i class="icon-house mr-2"></i>
                Dashboard
              </button>
              <button
                z-button
                [zType]="selectedMenu === 'daily' ? 'secondary' : 'ghost'"
                class="justify-start w-full"
                (click)="selectMenu('daily'); navigate('/dashboard/daily')"
              >
                <i class="fa fa-sun mr-2"></i>
                Daily
              </button>
              <button
                z-button
                [zType]="selectedMenu === 'task' ? 'secondary' : 'ghost'"
                class="justify-start w-full"
                (click)="selectMenu('task'); navigate('/dashboard/task')"
              >
                <i class="icon-layers mr-2"></i>
                Tasks
              </button>
              <button
                z-button
                [zType]="selectedMenu === 'category' ? 'secondary' : 'ghost'"
                class="justify-start w-full"
                (click)="selectMenu('category'); navigate('/dashboard/category')"
              >
                <i class="icon-users mr-2"></i>
                Categories
              </button>
              <button
                z-button
                [zType]="selectedMenu === 'goals' ? 'secondary' : 'ghost'"
                class="justify-start w-full"
                (click)="selectMenu('goals'); navigate('/dashboard/goals')"
              >
                <i class="icon-calendar mr-2"></i>
                Goals
              </button>
            </z-sidebar-group>
          </nav>
        </z-sidebar>
 
        <z-layout class="flex-1 flex flex-col min-h-0">
          <z-content class="flex-1 overflow-auto min-h-0">
            <div class="space-y-4  p-4">
              <!-- <z-skeleton class="h-170 w-full"></z-skeleton> -->
              <router-outlet class="flex-1 min-h-0"></router-outlet>
            </div>
          </z-content>
 
          <z-footer class="flex-none">
            <div class="flex items-center justify-center w-full text-sm text-muted-foreground">Â© {{ year }} PomoStudy</div>
          </z-footer>
        </z-layout>
      </z-layout>
    </z-layout>